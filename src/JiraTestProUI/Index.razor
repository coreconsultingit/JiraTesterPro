@page "/"
@using MudBlazor
@using JiraTestProUI.Shared
@using Color = MudBlazor.Color
@using System.IO
@inherits IndexBase

<MudText Typo="Typo.h5" Color="Color.Primary" Class="mb-4">Import test file</MudText>
<MudContainer Class="mt-16" MaxWidth="MaxWidth.Large">
    <MudGrid Spacing="6" Class="mt-16">
        <MudItem md="10">

            <MudGrid>
                
                <MudItem md="6">
                    @if(Isloading)
                    {
                        <div class="d-flex align-center flex-column ma-10">
                            <MudProgressCircular Color="Color.Success" Indeterminate="true" Style="height:100px;width:100px">
                            </MudProgressCircular>
                            <MudText Typo="Typo.subtitle1" Class="mt-4 text-center">Data is Loading</MudText>

                        </div>
                    }
                </MudItem>
                <MudItem md="6">
                    <MudTextField T="string" Label="OutPutFilePath" @bind-Value="OutputFilePath"/>
                </MudItem>

                <MudItem md="12">
                    <label style="box-shadow: 0 2px 7px #4caf50; display: inline-flex; width: 150px; justify-content: space-around; border-radius: 2em; color: white; border: 2px solid; cursor: pointer; align-items: center; padding: 16px; background-color: #4caf50;"
                           for="fileInput2">
                        Upload <MudIcon Icon="@Icons.Filled.CloudUpload"/>
                    </label>

                    <InputFile id="fileInput2" OnChange="UploadFiles" hidden single zip accept=".xlsx"/>
                    @if (file != null)
                    {
                        <MudList>
                            @*@foreach (var file in files)
                                {*@
                            <MudListItem Icon="@Icons.Filled.AttachFile">
                                @file.Name <code>@file.Size bytes</code>
                            </MudListItem>

                            @*}*@
                        </MudList>
                    }

                </MudItem>


            </MudGrid>
        </MudItem>
       
    </MudGrid>
</MudContainer>


